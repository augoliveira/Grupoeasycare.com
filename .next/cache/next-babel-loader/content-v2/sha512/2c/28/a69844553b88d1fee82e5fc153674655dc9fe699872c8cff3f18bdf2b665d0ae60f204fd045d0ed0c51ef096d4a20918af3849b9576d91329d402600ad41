{"ast":null,"code":"import { ADD_TO_CART, UPDATE_PRODUCT_QUANTITY, REMOVE_PRODUCT_FROM_CART } from \"../actions/cart\";\n\nfunction cartReducer(state = [], action) {\n  switch (action.type) {\n    case ADD_TO_CART:\n      {\n        const {\n          product: productToAdd,\n          quantity = 1\n        } = action.payload;\n        const productsInCart = [...state];\n        let isProductInCart = false;\n\n        for (let i = 0; i < productsInCart.length; i++) {\n          const product = productsInCart[i];\n\n          if (product.id === productToAdd.id) {\n            product.quantity = product.quantity + parseInt(quantity);\n            isProductInCart = true;\n            break;\n          }\n        }\n\n        if (!isProductInCart) {\n          productToAdd.quantity = parseInt(quantity);\n          productsInCart.push(productToAdd);\n        }\n\n        return productsInCart;\n      }\n\n    case UPDATE_PRODUCT_QUANTITY:\n      {\n        const {\n          productId,\n          quantity: quantityToSet = 1\n        } = action.payload;\n        const productsInCart = [...state];\n\n        for (let i = 0; i < productsInCart.length; i++) {\n          const product = productsInCart[i];\n\n          if (product.id === productId) {\n            product.quantity = parseInt(quantityToSet);\n            break;\n          }\n        }\n\n        return productsInCart;\n      }\n\n    case REMOVE_PRODUCT_FROM_CART:\n      {\n        return state.filter(product => product.id !== action.payload);\n      }\n\n    default:\n      return state;\n  }\n}\n\nexport default cartReducer;","map":null,"metadata":{},"sourceType":"module"}