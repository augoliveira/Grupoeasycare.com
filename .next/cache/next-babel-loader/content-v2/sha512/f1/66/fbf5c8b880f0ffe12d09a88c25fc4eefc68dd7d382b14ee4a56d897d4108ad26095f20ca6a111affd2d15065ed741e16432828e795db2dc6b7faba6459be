{"ast":null,"code":"import _toConsumableArray from \"D:/Grupo-easy/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport { ADD_TO_CART, UPDATE_PRODUCT_QUANTITY, REMOVE_PRODUCT_FROM_CART } from \"../actions/cart\";\n\nfunction cartReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_TO_CART:\n      {\n        var _action$payload = action.payload,\n            productToAdd = _action$payload.product,\n            _action$payload$quant = _action$payload.quantity,\n            quantity = _action$payload$quant === void 0 ? 1 : _action$payload$quant;\n\n        var productsInCart = _toConsumableArray(state);\n\n        var isProductInCart = false;\n\n        for (var i = 0; i < productsInCart.length; i++) {\n          var product = productsInCart[i];\n\n          if (product.id === productToAdd.id) {\n            product.quantity = product.quantity + parseInt(quantity);\n            isProductInCart = true;\n            break;\n          }\n        }\n\n        if (!isProductInCart) {\n          productToAdd.quantity = parseInt(quantity);\n          productsInCart.push(productToAdd);\n        }\n\n        return productsInCart;\n      }\n\n    case UPDATE_PRODUCT_QUANTITY:\n      {\n        var _action$payload2 = action.payload,\n            productId = _action$payload2.productId,\n            _action$payload2$quan = _action$payload2.quantity,\n            quantityToSet = _action$payload2$quan === void 0 ? 1 : _action$payload2$quan;\n\n        var _productsInCart = _toConsumableArray(state);\n\n        for (var _i = 0; _i < _productsInCart.length; _i++) {\n          var _product = _productsInCart[_i];\n\n          if (_product.id === productId) {\n            _product.quantity = parseInt(quantityToSet);\n            break;\n          }\n        }\n\n        return _productsInCart;\n      }\n\n    case REMOVE_PRODUCT_FROM_CART:\n      {\n        return state.filter(function (product) {\n          return product.id !== action.payload;\n        });\n      }\n\n    default:\n      return state;\n  }\n}\n\nexport default cartReducer;","map":null,"metadata":{},"sourceType":"module"}